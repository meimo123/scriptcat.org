(self.webpackChunkscriptcat_org=self.webpackChunkscriptcat_org||[]).push([[208],{8133:(n,s,a)=>{"use strict";a.r(s),a.d(s,{data:()=>p});const p={key:"v-26861d9c",path:"/dev/api.html",title:"API æ–‡æ¡£",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"è¯´æ˜",slug:"è¯´æ˜",children:[]},{level:2,title:"å®šä¹‰",slug:"å®šä¹‰",children:[{level:3,title:"GM_cookie *",slug:"gm-cookie",children:[]},{level:3,title:"GM_notification *",slug:"gm-notification",children:[]},{level:3,title:"GM_xmlhttpRequest",slug:"gm-xmlhttprequest",children:[]},{level:3,title:"GM_log *",slug:"gm-log",children:[]},{level:3,title:"GM_get/set/deleteValue",slug:"gm-get-set-deletevalue",children:[]},{level:3,title:"GM_add/removeValueChangeListener *",slug:"gm-add-removevaluechangelistener",children:[]},{level:3,title:"GM_openInTab",slug:"gm-openintab",children:[]},{level:3,title:"GM_setClipboard",slug:"gm-setclipboard",children:[]},{level:3,title:"GM_addStyle",slug:"gm-addstyle",children:[]},{level:3,title:"GM_registerMenuCommand",slug:"gm-registermenucommand",children:[]},{level:3,title:"GM_unregisterMenuCommand",slug:"gm-unregistermenucommand",children:[]},{level:3,title:"GM_getResourceText/GM_getResourceURL",slug:"gm-getresourcetext-gm-getresourceurl",children:[]}]}],filePathRelative:"dev/api.md",git:{updatedTime:1633591457e3,contributors:[]}}},1408:(n,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var p=a(6252);const e=(0,p.Wm)("h1",{id:"api-æ–‡æ¡£",tabindex:"-1"},[(0,p.Wm)("a",{class:"header-anchor",href:"#api-æ–‡æ¡£","aria-hidden":"true"},"#"),(0,p.Uk)(" API æ–‡æ¡£")],-1),t=(0,p.Wm)("h2",{id:"è¯´æ˜",tabindex:"-1"},[(0,p.Wm)("a",{class:"header-anchor",href:"#è¯´æ˜","aria-hidden":"true"},"#"),(0,p.Uk)(" è¯´æ˜")],-1),o=(0,p.Uk)("æœ¬æ‰©å±•apiå®šä¹‰å‚è€ƒ"),l={href:"https://www.tampermonkey.net/documentation.php",target:"_blank",rel:"noopener noreferrer"},c=(0,p.Uk)("tampermonkeyæ–‡æ¡£"),r=(0,p.Uk)(",ç”±äºæ—¶é—´å’Œç²¾åŠ›é—®é¢˜,åªå®ç°äº†éƒ¨åˆ†API,åç»­å°†ç»§ç»­è¿­ä»£,æœ¬æ‰©å±•è¿›è¡Œæ‰©å……æˆ–è€…ä¸åŸGMä¸åŒçš„APIå°†åœ¨æ–‡æ¡£ä¸­ç‰¹æ®Šæ ‡æ³¨(ä½¿ç”¨*å·).å¯¹äºæŸäº›APIè¿˜æä¾›äº†åŒæ­¥å‡½æ•°,åŒæ­¥å‡½æ•°è§„åˆ™:GM.*,å…·ä½“è¯·çœ‹æ–‡æ¡£å†…å®¹."),i=(0,p.Uk)("APIçš„è¯¦ç»†å®šä¹‰,è¯·çœ‹"),u=(0,p.Wm)("code",null,"tempermonkey.d.ts",-1),k=(0,p.Uk)("æˆ–è€…å†…ç½®ç¼–è¾‘å™¨æç¤º,æ–‡æ¡£æ›´æ–°å¯èƒ½ä¸ä¼šåŠæ—¶.å¯¹äºæœ¬æ‰©å±•ç‰¹æœ‰çš„APIè¯·çœ‹"),b=(0,p.Uk)("CatApiæ–‡æ¡£"),d=(0,p.uE)('<h2 id="å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#å®šä¹‰" aria-hidden="true">#</a> å®šä¹‰</h2><h3 id="gm-cookie" tabindex="-1"><a class="header-anchor" href="#gm-cookie" aria-hidden="true">#</a> GM_cookie *</h3><blockquote><p>æœ¬æ‰©å±•ç‰¹ä¾›,åªèƒ½åœ¨åå°è„šæœ¬ä¸­ä½¿ç”¨,å¿…é¡»ä½¿ç”¨<code>@connect</code>å£°æ˜æ“ä½œçš„host,ä¸”ç»è¿‡ç”¨æˆ·æˆæƒæ‰å¯ä½¿ç”¨.</p><p>GM_getCookieStore ğŸ§ª æ˜¯å®éªŒæ€§çš„</p></blockquote><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_cookie</span><span class="token punctuation">(</span>action<span class="token operator">:</span> GM_Types<span class="token punctuation">.</span>CookieAction<span class="token punctuation">,</span> details<span class="token operator">:</span> GM_Types<span class="token punctuation">.</span>CookieDetails<span class="token punctuation">,</span> <span class="token function-variable function">ondone</span><span class="token operator">:</span> <span class="token punctuation">(</span>cookie<span class="token operator">:</span> GM_Types<span class="token punctuation">.</span>Cookie<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> error<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n<span class="token comment">// é€šè¿‡tabid(å‰åç«¯é€šä¿¡å¯èƒ½ç”¨åˆ°,ValueChangeListenerä¼šè¿”å›tabid),è·å–storeid,åå°è„šæœ¬ç”¨.</span>\n<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_getCookieStore</span><span class="token punctuation">(</span>tabid<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token function-variable function">ondone</span><span class="token operator">:</span> <span class="token punctuation">(</span>storeId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> error<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n\n<span class="token keyword">declare</span> <span class="token keyword">namespace</span> GM_Types <span class="token punctuation">{</span>\n    <span class="token keyword">type</span> <span class="token class-name">CookieAction</span> <span class="token operator">=</span> <span class="token string">&quot;list&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;delete&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;set&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;store&quot;</span><span class="token punctuation">;</span>\n    <span class="token keyword">interface</span> <span class="token class-name">CookieDetails</span> <span class="token punctuation">{</span>\n        url<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>\n        name<span class="token operator">:</span> <span class="token builtin">string</span>\n        value<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>\n        domain<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>\n        path<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>\n        secure<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>\n        session<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>\n        storeId<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n        httpOnly<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>\n        expirationDate<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">interface</span> <span class="token class-name">Cookie</span> <span class="token punctuation">{</span>\n        domain<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n        name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n        storeId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n        value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n        session<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n        hostOnly<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n        expirationDate<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n        path<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n        httpOnly<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n        secure<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="gm-notification" tabindex="-1"><a class="header-anchor" href="#gm-notification" aria-hidden="true">#</a> GM_notification *</h3>',5),m=(0,p.Wm)("p",null,[(0,p.Uk)("å‘é€æ¶ˆæ¯é€šçŸ¥,æä¾›äº†"),(0,p.Wm)("code",null,"progress"),(0,p.Uk)("å’Œ"),(0,p.Wm)("code",null,"buttons"),(0,p.Uk)("çš„èƒ½åŠ›(Firefoxä¸æ”¯æŒ),å¯ä»¥æ˜¾ç¤ºè¿›åº¦æ¡ç±»å‹å’ŒæŒ‰é’®ç±»å‹çš„é€šçŸ¥,å¤šæä¾›äº†"),(0,p.Wm)("code",null,"GM_closeNotification"),(0,p.Uk)(","),(0,p.Wm)("code",null,"GM_updateNotification"),(0,p.Uk)("(Firefoxä¸æ”¯æŒ)ä¸¤ä¸ªæ–¹æ³•.")],-1),g={href:"https://bbs.tampermonkey.net.cn/thread-403-1-1.html",target:"_blank",rel:"noopener noreferrer"},y=(0,p.Uk)("demo"),h=(0,p.uE)('<div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_notification</span><span class="token punctuation">(</span>details<span class="token operator">:</span> GM_Types<span class="token punctuation">.</span>NotificationDetails<span class="token punctuation">,</span> ondone<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_notification</span><span class="token punctuation">(</span>text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> image<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> onclick<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_closeNotification</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_updateNotification</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> details<span class="token operator">:</span> GM_Types<span class="token punctuation">.</span>NotificationDetails<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n\n<span class="token keyword">declare</span> <span class="token keyword">namespace</span> GM_Types <span class="token punctuation">{</span>\n\n    <span class="token keyword">type</span> <span class="token class-name">NotificationOnClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> NotificationThis<span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> index<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n    <span class="token keyword">type</span> <span class="token class-name">NotificationOnDone</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> NotificationThis<span class="token punctuation">,</span> clicked<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">interface</span> <span class="token class-name">NotificationButton</span> <span class="token punctuation">{</span>\n        title<span class="token operator">:</span> <span class="token builtin">string</span>\n        iconUrl<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">interface</span> <span class="token class-name">NotificationDetails</span> <span class="token punctuation">{</span>\n        text<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>\n        title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>\n        image<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>\n        highlight<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>\n        silent<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>\n        timeout<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>\n        onclick<span class="token operator">?</span><span class="token operator">:</span> NotificationOnClick\n        ondone<span class="token operator">?</span><span class="token operator">:</span> NotificationOnDone\n        progress<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>\n        oncreate<span class="token operator">?</span><span class="token operator">:</span> NotificationOnClick\n        <span class="token comment">// åªèƒ½å­˜åœ¨2ä¸ª</span>\n        buttons<span class="token operator">?</span><span class="token operator">:</span> NotificationButton<span class="token punctuation">[</span><span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="gm-xmlhttprequest" tabindex="-1"><a class="header-anchor" href="#gm-xmlhttprequest" aria-hidden="true">#</a> GM_xmlhttpRequest</h3><blockquote><p>éƒ¨åˆ†åŠŸèƒ½ç¼ºå¤±,cookieåŠŸèƒ½firefoxæš‚ä¸æ”¯æŒ,éœ€è¦ç”¨æˆ·æˆæƒæ‰å¯æ­£å¸¸è®¿é—®,ä½¿ç”¨<code>@connect</code>æè¿°çš„hostå¯è·³è¿‡ç”¨æˆ·æˆæƒ,å…¶å®ƒéœ€è¦è¿›è¡Œajaxæ“ä½œçš„APIåŒç†.</p></blockquote><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_xmlhttpRequest</span><span class="token punctuation">(</span>details<span class="token operator">:</span> GM_Types<span class="token punctuation">.</span>XHRDetails<span class="token punctuation">)</span><span class="token operator">:</span> GM_Types<span class="token punctuation">.</span>AbortHandle<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">declare</span> <span class="token keyword">namespace</span> GM_Types <span class="token punctuation">{</span>\n    <span class="token keyword">interface</span> <span class="token class-name">XHRResponse</span> <span class="token punctuation">{</span>\n        finalUrl<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>\n        readyState<span class="token operator">?</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">4</span><span class="token punctuation">,</span>\n        responseHeaders<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>\n        status<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>\n        statusText<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>\n        response<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>\n        responseText<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>\n        responseXML<span class="token operator">?</span><span class="token operator">:</span> Document <span class="token operator">|</span> <span class="token keyword">null</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">interface</span> <span class="token class-name">XHRProgress</span> <span class="token keyword">extends</span> <span class="token class-name">XHRResponse</span> <span class="token punctuation">{</span>\n        done<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>\n        lengthComputable<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>\n        loaded<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>\n        position<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>\n        total<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>\n        totalSize<span class="token operator">:</span> <span class="token builtin">number</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">type</span> <span class="token class-name">Listener<span class="token operator">&lt;</span><span class="token constant">OBJ</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> <span class="token constant">OBJ</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">interface</span> <span class="token class-name">XHRDetails</span> <span class="token punctuation">{</span>\n        method<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;HEAD&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span>\n        url<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>\n        headers<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">readonly</span> <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        data<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>\n        binary<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>\n        timeout<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>\n        context<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">CONTEXT_TYPE</span><span class="token punctuation">,</span>\n        responseType<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&quot;arraybuffer&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;blob&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;json&quot;</span><span class="token punctuation">,</span>\n        overrideMimeType<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>\n        anonymous<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>\n        fetch<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>\n        username<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>\n        password<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>\n\n        onload<span class="token operator">?</span><span class="token operator">:</span> Listener<span class="token operator">&lt;</span>XHRResponse<span class="token operator">&gt;</span><span class="token punctuation">,</span>\n        onloadstart<span class="token operator">?</span><span class="token operator">:</span> Listener<span class="token operator">&lt;</span>XHRResponse<span class="token operator">&gt;</span><span class="token punctuation">,</span>\n        onloadend<span class="token operator">?</span><span class="token operator">:</span> Listener<span class="token operator">&lt;</span>XHRResponse<span class="token operator">&gt;</span><span class="token punctuation">,</span>\n        onprogress<span class="token operator">?</span><span class="token operator">:</span> Listener<span class="token operator">&lt;</span>XHRProgress<span class="token operator">&gt;</span><span class="token punctuation">,</span>\n        onreadystatechange<span class="token operator">?</span><span class="token operator">:</span> Listener<span class="token operator">&lt;</span>XHRResponse<span class="token operator">&gt;</span><span class="token punctuation">,</span>\n        ontimeout<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">,</span>\n        onabort<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">,</span>\n        onerror<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">Function</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h3 id="gm-log" tabindex="-1"><a class="header-anchor" href="#gm-log" aria-hidden="true">#</a> GM_log *</h3><blockquote><p>æ—¥å¿—å‡½æ•°,åå°è„šæœ¬çš„æ—¥å¿—å°†åœ¨æ§åˆ¶é¢æ¿çš„è¿è¡Œæ—¥å¿—ä¸­çœ‹åˆ°(ç‚¹å‡»è¿è¡ŒçŠ¶æ€æ ).ç›¸æ¯”äºtmå¢åŠ äº†ä¸€ä¸ªæ—¥å¿—çš„level.</p></blockquote><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_log</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> level<span class="token operator">?</span><span class="token operator">:</span> GM_Types<span class="token punctuation">.</span><span class="token constant">LOGGER_LEVEL</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n<span class="token keyword">declare</span> <span class="token keyword">namespace</span> GM_Types <span class="token punctuation">{</span>\n    <span class="token keyword">type</span> <span class="token class-name"><span class="token constant">LOGGER_LEVEL</span></span> <span class="token operator">=</span> <span class="token string">&#39;debug&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;info&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;warn&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;error&#39;</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="gm-get-set-deletevalue" tabindex="-1"><a class="header-anchor" href="#gm-get-set-deletevalue" aria-hidden="true">#</a> GM_get/set/deleteValue</h3><blockquote><p>ä»å‚¨å­˜ä¸­è·å–æˆ–è€…è®¾ç½®å€¼,æ•°æ®åœ¨åŒä¸€<code>namespace</code>ä¸­å¯ä»¥å…±äº«,ä¸”å¯ä»¥å®æ—¶çš„åŒæ­¥.</p></blockquote><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_setValue</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n\n<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_getValue</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> defaultValue<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n\n<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_deleteValue</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="gm-add-removevaluechangelistener" tabindex="-1"><a class="header-anchor" href="#gm-add-removevaluechangelistener" aria-hidden="true">#</a> GM_add/removeValueChangeListener *</h3><blockquote><p>å¯¹å€¼çš„ç›‘å¬æ“ä½œ,addä¼šè¿”å›ä¸€ä¸ªç›‘å¬id,ä½¿ç”¨removeå¯ä»¥å–æ¶ˆç›‘å¬.åå°è„šæœ¬ç›‘å¬ä¼šè¿”å›tabid.</p></blockquote><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// tabidæ˜¯åªæœ‰åå°è„šæœ¬ç›‘å¬æ‰æœ‰çš„å‚æ•°</span>\n<span class="token keyword">type</span> <span class="token class-name">ValueChangeListener</span> <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> oldValue<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> newValue<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> remote<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> tabid<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n\n<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_addValueChangeListener</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> listener<span class="token operator">:</span> GM_Types<span class="token punctuation">.</span>ValueChangeListener<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n\n<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_removeValueChangeListener</span><span class="token punctuation">(</span>listenerId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="gm-openintab" tabindex="-1"><a class="header-anchor" href="#gm-openintab" aria-hidden="true">#</a> GM_openInTab</h3><blockquote><p>æ‰“å¼€ä¸€ä¸ªæ–°çª—å£</p></blockquote><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_openInTab</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> options<span class="token operator">:</span> GM_Types<span class="token punctuation">.</span>OpenTabOptions<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_openInTab</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> loadInBackground<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_openInTab</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>\n\n<span class="token keyword">declare</span> <span class="token keyword">namespace</span> GM_Types <span class="token punctuation">{</span>\n    <span class="token keyword">interface</span> <span class="token class-name">OpenTabOptions</span> <span class="token punctuation">{</span>\n        active<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>\n        insert<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>\n        setParent<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="gm-setclipboard" tabindex="-1"><a class="header-anchor" href="#gm-setclipboard" aria-hidden="true">#</a> GM_setClipboard</h3><blockquote><p>è®¾ç½®å‰ªè¾‘æ¿</p></blockquote><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_setClipboard</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> info<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token punctuation">{</span> type<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> minetype<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="gm-addstyle" tabindex="-1"><a class="header-anchor" href="#gm-addstyle" aria-hidden="true">#</a> GM_addStyle</h3><blockquote><p>æ·»åŠ æ ·å¼åˆ°é¡µé¢ä¸­,è¿”å›æ ·å¼DOM</p></blockquote><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_addStyle</span><span class="token punctuation">(</span>css<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="gm-registermenucommand" tabindex="-1"><a class="header-anchor" href="#gm-registermenucommand" aria-hidden="true">#</a> GM_registerMenuCommand</h3><blockquote><p>æ³¨å†Œä¸€ä¸ªèœå•é€‰é¡¹åˆ°å¼¹å‡ºé¡µé¢ä¸­,ç‚¹å‡»æ—¶ä¼šè°ƒç”¨<code>listener</code>æ–¹æ³•</p></blockquote><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_registerMenuCommand</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> listener<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">,</span> accessKey<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="gm-unregistermenucommand" tabindex="-1"><a class="header-anchor" href="#gm-unregistermenucommand" aria-hidden="true">#</a> GM_unregisterMenuCommand</h3><blockquote><p>é€šè¿‡idåˆ é™¤ä¸€ä¸ªå·²ç»æ³¨å†Œäº†çš„èœå•é¡¹</p></blockquote><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">GM_unregisterMenuCommand</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="gm-getresourcetext-gm-getresourceurl" tabindex="-1"><a class="header-anchor" href="#gm-getresourcetext-gm-getresourceurl" aria-hidden="true">#</a> GM_getResourceText/GM_getResourceURL</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//GM_getResourceText è·å–èµ„æºæ–‡æœ¬æ•°æ®,imageç­‰byteç±»å‹çš„æ•°æ®ä¼šè¿”å›ç©ºæ–‡æœ¬,éœ€è¦ä½¿ç”¨GM_getResourceURLè·å–</span>\ndeclare <span class="token keyword">function</span> <span class="token function">GM_getResourceText</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token operator">:</span> string <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n<span class="token comment">//GM_getResourceURL è·å–ç»è¿‡base64åçš„æ•°æ®</span>\ndeclare <span class="token keyword">function</span> <span class="token function">GM_getResourceURL</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token operator">:</span> string <span class="token operator">|</span> <span class="token keyword">undefined</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>',30),f={render:function(n,s){const a=(0,p.up)("OutboundLink"),f=(0,p.up)("RouterLink");return(0,p.wg)(),(0,p.j4)(p.HY,null,[e,t,(0,p.Wm)("p",null,[o,(0,p.Wm)("a",l,[c,(0,p.Wm)(a)]),r]),(0,p.Wm)("p",null,[i,u,k,(0,p.Wm)(f,{to:"/dev/cat-api.html"},{default:(0,p.w5)((()=>[b])),_:1})]),d,(0,p.Wm)("blockquote",null,[m,(0,p.Wm)("p",null,[(0,p.Wm)("a",g,[y,(0,p.Wm)(a)])])]),h],64)}}}}]);