(self.webpackChunkscriptcat_org=self.webpackChunkscriptcat_org||[]).push([[424],{2729:(n,s,a)=>{"use strict";a.r(s),a.d(s,{data:()=>e});const e={key:"v-393a8250",path:"/dev/background.html",title:"后台脚本",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"后台脚本",slug:"后台脚本-1",children:[]},{level:2,title:"定时脚本",slug:"定时脚本",children:[{level:3,title:"Crontab 例子",slug:"crontab-例子",children:[]}]},{level:2,title:"日志",slug:"日志",children:[]},{level:2,title:"脚本调试",slug:"脚本调试",children:[]},{level:2,title:"Promise",slug:"promise",children:[]}],filePathRelative:"dev/background.md",git:{updatedTime:1630743201e3,contributors:[]}}},6553:(n,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>K});var e=a(6252);const t=a.p+"assets/img/image-20210621214124685.7c9c27b8.png",m=a.p+"assets/img/image-20210903141601057.f338978a.png",c=a.p+"assets/img/image-20210903144155450.40b0f1bf.png",l=(0,e.Wm)("h1",{id:"后台脚本",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#后台脚本","aria-hidden":"true"},"#"),(0,e.Uk)(" 后台脚本")],-1),o=(0,e.Wm)("blockquote",null,[(0,e.Wm)("p",null,"后台脚本适用于持续运行类型的脚本.后台脚本是脚本猫特有的脚本.")],-1),u=(0,e.Wm)("h2",{id:"后台脚本-1",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#后台脚本-1","aria-hidden":"true"},"#"),(0,e.Uk)(" 后台脚本")],-1),r=(0,e.Wm)("p",null,[(0,e.Uk)("后台脚本由"),(0,e.Wm)("code",null,"@background"),(0,e.Uk)("属性声明,后台脚本将允许在开启脚本或者浏览器启动后,让脚本在后台持续运行.")],-1),W=(0,e.Wm)("h2",{id:"定时脚本",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#定时脚本","aria-hidden":"true"},"#"),(0,e.Uk)(" 定时脚本")],-1),p=(0,e.Wm)("blockquote",null,[(0,e.Wm)("p",null,"定时脚本也属于后台脚本的一种,定时脚本适用于每隔一段时间执行一次的脚本.")],-1),k=(0,e.Wm)("p",null,[(0,e.Uk)("定时脚本由"),(0,e.Wm)("code",null,"@crontab"),(0,e.Uk)("属性声明,可以精确到秒级调用,提供了一个"),(0,e.Wm)("code",null,"once"),(0,e.Uk)("参数,表示某个时间段内会执行一次(考虑浏览器未打开的情况).建议脚本的运行时间和重试时间不要大于定时时间的间隔.")],-1),i=(0,e.Uk)("可使用在线工具测试crontab表达式,扩展中的"),b=(0,e.Wm)("code",null,"once",-1),C=(0,e.Uk)("替换成"),d=(0,e.Wm)("code",null,"*",-1),U=(0,e.Uk)(":"),h={href:"https://tool.lu/crontab/",target:"_blank",rel:"noopener noreferrer"},A=(0,e.Uk)("crontab在线测试"),Q=(0,e.Wm)("p",null,[(0,e.Uk)("在控制台页面,鼠标放置"),(0,e.Wm)("code",null,"运行状态"),(0,e.Uk)("栏时会显示下一次的运行时间.")],-1),f=(0,e.Wm)("h3",{id:"crontab-例子",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#crontab-例子","aria-hidden":"true"},"#"),(0,e.Uk)(" Crontab 例子")],-1),L=(0,e.Wm)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-javascript"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token comment"},"//@crontab * * * * * * 每秒运行一次"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"//@crontab * * * * * 每分钟运行一次"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"//@crontab 0 */6 * * * 每6小时的0分时执行一次"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"//@crontab 15 */6 * * * 每6小时的15分时执行一次"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"//@crontab * once * * * 每小时运行一次"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"//@crontab * * once * * 每天运行一次"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"//@crontab * 10 once * * 每天10点检测运行一次"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"//@crontab * 10-23 once * * 每天10点后检测运行一次"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"//@crontab * once 13 * * 每个月13号中的每小时最多运行一次"),(0,e.Uk)("\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"2"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"3"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"4"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"5"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"6"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"7"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"8"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"9"),(0,e.Wm)("br")])],-1),P=(0,e.Wm)("h2",{id:"日志",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#日志","aria-hidden":"true"},"#"),(0,e.Uk)(" 日志")],-1),x=(0,e.Wm)("p",null,[(0,e.Uk)("在脚本列表页面，鼠标放置"),(0,e.Wm)("code",null,"运行状态栏"),(0,e.Uk)("会提示脚本的运行状态,点击可弹出通过"),(0,e.Wm)("code",null,"GM_log"),(0,e.Uk)("打印的日志内容")],-1),g=(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:"data:image/png;base64,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",alt:""})],-1),E=(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:t,alt:""})],-1),B=(0,e.Wm)("h2",{id:"脚本调试",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#脚本调试","aria-hidden":"true"},"#"),(0,e.Uk)(" 脚本调试")],-1),I=(0,e.Wm)("p",null,"后台脚本可直接在脚本编辑页面进行调试",-1),z=(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:m,alt:""})],-1),Y=(0,e.Wm)("p",null,[(0,e.Uk)("如果是运行的环境请前往扩展开启"),(0,e.Wm)("strong",null,"开发人员模式"),(0,e.Uk)("然后在点击扩展的background.html进行调试，运行时产生的错误也可以在运行日志中查看")],-1),v=(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:c,alt:"image-20210903144155450"})],-1),F=(0,e.Wm)("h2",{id:"promise",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#promise","aria-hidden":"true"},"#"),(0,e.Uk)(" Promise")],-1),j=(0,e.Wm)("blockquote",null,[(0,e.Wm)("p",null,"十分推荐这种写法,也便于脚本管理器的脚本监控")],-1),w=(0,e.Wm)("p",null,[(0,e.Uk)("脚本返回"),(0,e.Wm)("code",null,"Promise"),(0,e.Uk)("对象,管理器可以将返回的内容当作日志记录下来.")],-1),Z=(0,e.Wm)("div",{class:"language-typescript ext-ts line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-typescript"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token comment"},"// ==UserScript=="),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"// @name         后台脚本"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"// @namespace    wyz"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"// @version      1.0.0"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"// @author       wyz"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"// @background"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"// ==/UserScript=="),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token keyword"},"return"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token keyword"},"new"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token class-name"},[(0,e.Wm)("span",{class:"token builtin"},"Promise")]),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Uk)("resolve"),(0,e.Wm)("span",{class:"token punctuation"},","),(0,e.Uk)(" reject"),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token operator"},"=>"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n  "),(0,e.Wm)("span",{class:"token keyword"},"if"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Uk)("Math"),(0,e.Wm)("span",{class:"token punctuation"},"."),(0,e.Wm)("span",{class:"token function"},"round"),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Uk)("Math"),(0,e.Wm)("span",{class:"token punctuation"},"."),(0,e.Wm)("span",{class:"token function"},"random"),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token operator"},"*"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token number"},"10"),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token operator"},"%"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token number"},"2"),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    "),(0,e.Wm)("span",{class:"token function"},"resolve"),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Wm)("span",{class:"token string"},'"ok"'),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Wm)("span",{class:"token punctuation"},";"),(0,e.Wm)("span",{class:"token comment"},"// 执行成功"),(0,e.Uk)("\n  "),(0,e.Wm)("span",{class:"token punctuation"},"}"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token keyword"},"else"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    "),(0,e.Wm)("span",{class:"token function"},"reject"),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Wm)("span",{class:"token string"},'"error"'),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Wm)("span",{class:"token punctuation"},";"),(0,e.Wm)("span",{class:"token comment"},"// 执行失败,并返回错误原因"),(0,e.Uk)("\n  "),(0,e.Wm)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token punctuation"},"}"),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Wm)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"2"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"3"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"4"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"5"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"6"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"7"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"8"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"9"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"10"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"11"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"12"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"13"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"14"),(0,e.Wm)("br")])],-1),J=(0,e.Wm)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-javascript"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token comment"},"// ==UserScript=="),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"// @name         每天运行一次的定时脚本"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"// @namespace    wyz"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"// @version      1.0.0"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"// @author       wyz"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"// @crontab      * * once * *"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token comment"},"// ==/UserScript=="),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token keyword"},"return"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token keyword"},"new"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token class-name"},"Promise"),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Wm)("span",{class:"token parameter"},[(0,e.Uk)("resolve"),(0,e.Wm)("span",{class:"token punctuation"},","),(0,e.Uk)(" reject")]),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token operator"},"=>"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n  "),(0,e.Wm)("span",{class:"token keyword"},"if"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Uk)("Math"),(0,e.Wm)("span",{class:"token punctuation"},"."),(0,e.Wm)("span",{class:"token function"},"round"),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Uk)("Math"),(0,e.Wm)("span",{class:"token punctuation"},"."),(0,e.Wm)("span",{class:"token function"},"random"),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token operator"},"*"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token number"},"10"),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token operator"},"%"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token number"},"2"),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    "),(0,e.Wm)("span",{class:"token function"},"resolve"),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Wm)("span",{class:"token string"},'"ok"'),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Wm)("span",{class:"token punctuation"},";"),(0,e.Wm)("span",{class:"token comment"},"// 执行成功"),(0,e.Uk)("\n  "),(0,e.Wm)("span",{class:"token punctuation"},"}"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token keyword"},"else"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    "),(0,e.Wm)("span",{class:"token function"},"reject"),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Wm)("span",{class:"token string"},'"error"'),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Wm)("span",{class:"token punctuation"},";"),(0,e.Wm)("span",{class:"token comment"},"// 执行失败,并返回错误原因"),(0,e.Uk)("\n  "),(0,e.Wm)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token punctuation"},"}"),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Wm)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"2"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"3"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"4"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"5"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"6"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"7"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"8"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"9"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"10"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"11"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"12"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"13"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"14"),(0,e.Wm)("br")])],-1),K={render:function(n,s){const a=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.j4)(e.HY,null,[l,o,u,r,W,p,k,(0,e.Wm)("p",null,[i,b,C,d,U,(0,e.Wm)("a",h,[A,(0,e.Wm)(a)])]),Q,f,L,P,x,g,E,B,I,z,Y,v,F,j,w,Z,J],64)}}}}]);